import{u as w,C as x,L as $,G as C,c as _,a as e,b as l,e as o,w as a,F as f,d as b,o as t,Z as L,r as B,g,f as n,t as r,j as h,k as N,x as T,a1 as V}from"./app-BxavtTYs.js";import{_ as D,D as I}from"./Admin-CpLrPT1Z.js";import{_ as j}from"./PageHeader-BnI1hV_t.js";import{_ as F}from"./Panel-Lw-nuda0.js";import{T as O,_ as q}from"./Tab-Cd_KlTQp.js";import{_ as A}from"./Alert-BlT5orGN.js";import{_ as E}from"./Textarea-BQg5Wyvs.js";import{_ as G}from"./NoResult-DNS5zprA.js";import"./QueueList-CJbQdoC3.js";import"./Flex-0eM5h-qJ.js";const M={class:"w-full mx-auto row-py"},S={class:"w-full row-px"},Z={class:"mt-lg row-px w-full"},z={class:"mt-md"},H=["href"],J=b({layout:D}),se=Object.assign(J,{__name:"Logs",props:{logs:{required:!0,type:Array}},setup(d){const{t:m}=w(),v=m("system.system_logs"),p=d,c=x(null);$(()=>{p.logs.length&&(c.value=p.logs[0].name)});const s=C(()=>{const i=p.logs.find(y=>y.name===c.value);return i||!1}),k=()=>{V.delete(route("mixpost.system.logs.clear"),{data:{filename:s.value.name}})};return(i,y)=>(t(),_(f,null,[e(l(L),{title:l(v)},null,8,["title"]),o("div",M,[e(j,{title:l(v)},null,8,["title"]),o("div",S,[e(O,null,{default:a(()=>[(t(!0),_(f,null,B(d.logs,u=>(t(),g(q,{key:u.name,onClick:K=>c.value=u.name,active:c.value===u.name},{icon:a(()=>[e(I)]),default:a(()=>[n(" "+r(u.name),1)]),_:2},1032,["onClick","active"]))),128))]),_:1})]),o("div",Z,[e(F,{class:"mt-lg"},{default:a(()=>[d.logs.length?(t(),_(f,{key:0},[s.value?(t(),_(f,{key:0},[s.value.error?(t(),g(A,{key:0,closeable:!1,variant:"warning",class:"mb-md"},{default:a(()=>[n(r(s.value.error),1)]),_:1})):h("",!0),e(E,{value:s.value.contents,class:"h-96",readonly:""},null,8,["value"])],64)):h("",!0),o("div",z,[o("a",{href:i.route("mixpost.system.logs.download",{filename:s.value.name}),target:"_blank"},[e(N,{class:"mr-xs rtl:mr-0 rtl:ml-xs"},{default:a(()=>[n(r(l(m)("general.download")),1)]),_:1})],8,H),e(T,{onClick:k},{default:a(()=>[n(r(l(m)("general.clean_up")),1)]),_:1})])],64)):(t(),g(G,{key:1},{default:a(()=>[n(r(l(m)("system.there_are_no_logs")),1)]),_:1}))]),_:1})])])],64))}});export{se as default};
