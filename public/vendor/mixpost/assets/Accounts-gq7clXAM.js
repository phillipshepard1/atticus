import{i as k,o as i,g as u,w as r,e,a as o,t as l,b as s,h as y,A as K,c as h,C as I,f as d,N as j,_ as M,k as P,j as m,H as q,n as z,a1 as B,T as R,y as Z,m as J,P as Q,z as W,G as ee,S as se,a7 as te,aw as oe,u as ae,q as re,F as E,r as ne,O as le,ax as ie,ay as ce,Z as ue,v as de,I as pe,U as F,a0 as fe,V as _e,s as N,x as me}from"./app-BxavtTYs.js";import{_ as ve}from"./PageHeader-BnI1hV_t.js";import{_ as ge}from"./Panel-Lw-nuda0.js";import{_ as ke}from"./Account-hARf4EP9.js";import{T as be,F as xe,M as he,I as $e,a as we,Y as ye,P as Ce,_ as T}from"./ProviderIcon-DoC9ZFBR.js";import{_ as U}from"./Radio-BACqEdPU.js";import{_ as Y}from"./Flex-0eM5h-qJ.js";import{E as Ae}from"./EllipsisVertical-DCDthPML.js";import{R as Ie}from"./Refresh-Dpahu98l.js";import{T as Se}from"./Trash-B9tkDRbU.js";import{_ as Pe}from"./AlertUnconfiguredService--y7Pjiyt.js";import{_ as Te}from"./Alert-BlT5orGN.js";import"./ExclamationCircle-DvHPQVk8.js";const Ve={class:"flex mr-4"},Le={class:"flex flex-col items-start"},Fe={__name:"AddTwitterAccount",setup(_){const a=k("workspaceCtx");return(t,n)=>(i(),u(s(y),{href:t.route("mixpost.accounts.add",{workspace:s(a).id,provider:"twitter"}),method:"post",as:"button",type:"button",class:"w-full flex items-center px-lg py-4 hover:bg-twitter hover:bg-opacity-20 ease-in-out duration-200"},{default:r(()=>[e("span",Ve,[o(be,{class:"text-twitter"})]),e("span",Le,[n[0]||(n[0]=e("span",{class:"font-semibold"},"X",-1)),e("span",null,l(t.$t("service.twitter.connect_profile")),1)])]),_:1},8,["href"]))}},Me={class:"flex mr-4"},Be={class:"flex flex-col items-start"},je={__name:"AddFacebookPage",setup(_){const a=k("workspaceCtx");return(t,n)=>(i(),u(s(y),{href:t.route("mixpost.accounts.add",{workspace:s(a).id,provider:"facebook_page"}),method:"post",as:"button",type:"button",class:"w-full flex items-center px-lg py-4 hover:bg-facebook hover:bg-opacity-20 ease-in-out duration-200"},{default:r(()=>[e("span",Me,[o(xe,{class:"text-facebook"})]),e("span",Be,[n[0]||(n[0]=e("span",{class:"font-semibold"},"Facebook Page",-1)),e("span",null,l(t.$t("service.facebook.connect_page")),1)])]),_:1},8,["href"]))}},ze={},De={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"};function Ee(_,a){return i(),h("svg",De,a[0]||(a[0]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M13.5 4.5L21 12m0 0l-7.5 7.5M21 12H3"},null,-1)]))}const H=K(ze,[["render",Ee]]),Ne={class:"flex mr-md"},Ue={class:"flex flex-col items-start"},qe={key:0,class:"px-lg py-md"},Re={__name:"AddMastodonAccount",setup(_){const a=k("workspaceCtx"),{notify:t}=z(),n=I(!1),b=I(""),f=I(!1),p=()=>new Promise(($,x)=>{axios.post(route("mixpost.services.createMastodonApp"),{server:b.value}).then(()=>{$()}).catch(function(S){x(S)})}),v=()=>{n.value=!0,B.post(route("mixpost.accounts.add",{workspace:a.id,provider:"mastodon"}),{server:b.value},{onSuccess(){n.value=!1}})},C=async()=>{n.value=!0,await p().then(()=>{v()}).catch($=>t("error",$)).finally(()=>{n.value=!1})};return($,x)=>(i(),h("div",{class:q({"bg-mastodon bg-opacity-20":f.value})},[e("div",{role:"button",onClick:x[0]||(x[0]=S=>f.value=!f.value),type:"button",class:"w-full flex items-center px-lg py-md hover:bg-mastodon hover:bg-opacity-20 ease-in-out duration-200"},[e("span",Ne,[o(he,{class:"text-mastodon"})]),e("span",Ue,[x[2]||(x[2]=e("span",{class:"font-semibold"},"Mastodon",-1)),e("span",null,l($.$t("service.mastodon.connect_profile")),1)])]),f.value?(i(),h("div",qe,[o(M,null,{title:r(()=>[d(l($.$t("service.mastodon.enter_server")),1)]),default:r(()=>[o(j,{type:"text",modelValue:b.value,"onUpdate:modelValue":x[1]||(x[1]=S=>b.value=S),placeholder:"example.server"},null,8,["modelValue"])]),_:1}),o(P,{onClick:C,disabled:!b.value||n.value,isLoading:n.value,size:"md",class:"mt-lg"},{icon:r(()=>[o(H)]),default:r(()=>[d(" "+l($.$t("general.next")),1)]),_:1},8,["disabled","isLoading"])])):m("",!0)],2))}},Ye={class:"flex mr-4"},He={class:"flex flex-col items-start"},Ge={__name:"AddInstagramAccount",setup(_){const a=k("workspaceCtx");return(t,n)=>(i(),u(s(y),{href:t.route("mixpost.accounts.add",{workspace:s(a).id,provider:"instagram"}),method:"post",as:"button",type:"button",class:"w-full flex items-center px-lg py-4 hover:bg-twitter hover:bg-opacity-20 ease-in-out duration-200"},{default:r(()=>[e("span",Ye,[o($e,{class:"text-instagram"})]),e("span",He,[n[0]||(n[0]=e("span",{class:"font-semibold"},"Instagram",-1)),e("span",null,l(t.$t("service.instagram.connect_account")),1)])]),_:1},8,["href"]))}},Oe={class:"flex mr-4"},Xe={class:"flex flex-col items-start"},Ke={__name:"AddThreadsAccount",setup(_){const a=k("workspaceCtx");return(t,n)=>(i(),u(s(y),{href:t.route("mixpost.accounts.add",{workspace:s(a).id,provider:"threads"}),method:"post",as:"button",type:"button",class:"w-full flex items-center px-lg py-4 hover:bg-threads hover:bg-opacity-20 ease-in-out duration-200"},{default:r(()=>[e("span",Oe,[o(we,{class:"text-threads"})]),e("span",Xe,[n[0]||(n[0]=e("span",{class:"font-semibold"},"Threads",-1)),e("span",null,l(t.$t("service.threads.connect")),1)])]),_:1},8,["href"]))}},Ze={class:"flex mr-sm"},Je={class:"flex flex-col items-start"},Qe={__name:"AddYoutubeAccount",setup(_){const a=k("workspaceCtx");return(t,n)=>(i(),u(s(y),{href:t.route("mixpost.accounts.add",{workspace:s(a).id,provider:"youtube"}),method:"post",as:"button",type:"button",class:"w-full flex items-center px-lg py-4 hover:bg-twitter hover:bg-opacity-20 ease-in-out duration-200"},{default:r(()=>[e("span",Ze,[o(ye,{class:"text-youtube"})]),e("span",Je,[n[0]||(n[0]=e("span",{class:"font-semibold"},"YouTube",-1)),e("span",null,l(t.$t("service.youtube.connect_profile")),1)])]),_:1},8,["href"]))}},We={class:"flex mr-4"},es={class:"flex flex-col items-start"},ss={__name:"AddPinterestAccount",setup(_){const a=k("workspaceCtx");return(t,n)=>(i(),u(s(y),{href:t.route("mixpost.accounts.add",{workspace:s(a).id,provider:"pinterest"}),method:"post",as:"button",type:"button",class:"w-full flex items-center px-lg py-4 hover:bg-twitter hover:bg-opacity-20 ease-in-out duration-200"},{default:r(()=>[e("span",We,[o(Ce,{class:"text-pinterest"})]),e("span",es,[n[0]||(n[0]=e("span",{class:"font-semibold"},"Pinterest",-1)),e("span",null,l(t.$t("service.pinterest.connect_profile")),1)])]),_:1},8,["href"]))}},ts={class:"flex mr-4"},os={class:"flex flex-col items-start"},as={__name:"AddLinkedinProfile",setup(_){const a=k("workspaceCtx");return(t,n)=>(i(),u(s(y),{href:t.route("mixpost.accounts.add",{workspace:s(a).id,provider:"linkedin"}),method:"post",as:"button",type:"button",class:"w-full flex items-center px-lg py-4 hover:bg-twitter hover:bg-opacity-20 ease-in-out duration-200"},{default:r(()=>[e("span",ts,[o(T,{provider:"linkedin"})]),e("span",os,[n[0]||(n[0]=e("span",{class:"font-semibold"},"LinkedIn Profile",-1)),e("span",null,l(t.$t("service.linkedin.connect_profile")),1)])]),_:1},8,["href"]))}},rs={class:"flex mr-4"},ns={class:"flex flex-col items-start"},ls={__name:"AddLinkedinPage",setup(_){const a=k("workspaceCtx");return(t,n)=>(i(),u(s(y),{href:t.route("mixpost.accounts.add",{workspace:s(a).id,provider:"linkedin_page"}),method:"post",as:"button",type:"button",class:"w-full flex items-center px-lg py-4 hover:bg-twitter hover:bg-opacity-20 ease-in-out duration-200"},{default:r(()=>[e("span",rs,[o(T,{provider:"linkedin"})]),e("span",ns,[n[0]||(n[0]=e("span",{class:"font-semibold"},"LinkedIn Page",-1)),e("span",null,l(t.$t("service.linkedin.connect_page")),1)])]),_:1},8,["href"]))}},is={class:"flex mr-4"},cs={class:"flex flex-col items-start"},us={__name:"AddTikTokAccount",setup(_){const a=k("workspaceCtx");return(t,n)=>(i(),u(s(y),{href:t.route("mixpost.accounts.add",{workspace:s(a).id,provider:"tiktok"}),method:"post",as:"button",type:"button",class:"w-full flex items-center px-lg py-4 hover:bg-twitter hover:bg-opacity-20 ease-in-out duration-200"},{default:r(()=>[e("span",is,[o(T,{provider:"tiktok"})]),e("span",cs,[n[0]||(n[0]=e("span",{class:"font-semibold"},"TikTok",-1)),e("span",null,l(t.$t("service.tiktok.connect_profile")),1)])]),_:1},8,["href"]))}},ds={class:"flex mr-md"},ps={class:"flex flex-col items-start"},fs={key:0,class:"px-lg py-md"},_s={__name:"AddBlueskyAccount",setup(_){const a=k("workspaceCtx"),t=R({service:"bluesky",server:""}),n=I(!1),b=()=>{t.transform(f=>(f.service!=="custom"&&delete f.server,f)).post(route("mixpost.accounts.add",{workspace:a.id,provider:"bluesky"}))};return(f,p)=>(i(),h("div",{class:q({"bg-bluesky bg-opacity-20":n.value})},[e("div",{role:"button",onClick:p[0]||(p[0]=v=>n.value=!n.value),type:"button",class:"w-full flex items-center px-lg py-md hover:bg-bluesky hover:bg-opacity-20 ease-in-out duration-200"},[e("span",ds,[o(T,{provider:"bluesky"})]),e("span",ps,[p[4]||(p[4]=e("span",{class:"font-semibold"},"Bluesky",-1)),e("span",null,l(f.$t("service.bluesky.connect_profile")),1)])]),n.value?(i(),h("div",fs,[e("form",{onSubmit:J(b,["prevent"])},[o(M,null,{title:r(()=>[d(l(f.$t("service.bluesky.service")),1)]),default:r(()=>[o(Y,null,{default:r(()=>[e("label",null,[o(U,{checked:s(t).service,"onUpdate:checked":p[1]||(p[1]=v=>s(t).service=v),value:"bluesky"},null,8,["checked"]),p[5]||(p[5]=d(" Bluesky"))]),e("label",null,[o(U,{checked:s(t).service,"onUpdate:checked":p[2]||(p[2]=v=>s(t).service=v),value:"custom"},null,8,["checked"]),d(" "+l(f.$t("general.custom")),1)])]),_:1})]),_:1}),s(t).service==="custom"?(i(),u(M,{key:0,class:"mt-lg"},{title:r(()=>[d(l(f.$t("service.bluesky.server_address")),1)]),footer:r(()=>[o(Z,{message:s(t).errors.server},null,8,["message"])]),default:r(()=>[o(j,{type:"url",modelValue:s(t).server,"onUpdate:modelValue":p[3]||(p[3]=v=>s(t).server=v),error:s(t).errors.server,placeholder:"https://example.com",required:""},null,8,["modelValue","error"])]),_:1})):m("",!0),o(P,{disabled:s(t).service==="custom"&&!s(t).server||s(t).processing,isLoading:s(t).processing,size:"md",type:"submit",class:"mt-lg"},{icon:r(()=>[o(H)]),default:r(()=>[d(" "+l(f.$t("general.next")),1)]),_:1},8,["disabled","isLoading"])],32)])):m("",!0)],2))}},ms={class:"flex items-center justify-center h-full border border-primary-800 rounded-lg hover:border-primary-500 hover:text-primary-500 transition-colors ease-in-out duration-200"},vs={class:"p-lg"},gs={class:"flex flex-col justify-center items-center"},ks={class:"mt-xs text-lg"},bs={__name:"GridAddElement",setup(_){return(a,t)=>(i(),h("span",ms,[e("span",vs,[e("span",gs,[o(Q,{class:"w-7 h-7"}),e("span",ks,[W(a.$slots,"default")])])])]))}},xs=()=>{const{notify:_}=z(),a=ee(()=>te().props.errors);se(()=>a.value,t=>{_("error",oe(t))})},hs={class:"w-full mx-auto row-py"},$s={class:"mt-lg row-px w-full"},ws={key:0,class:"mb-md"},ys=["href"],Cs={class:"w-full grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 2xl:grid-cols-5 gap-6"},As={class:"flex flex-col justify-center relative"},Is={key:0,class:"absolute top-0 left-0"},Ss={class:"w-md h-md bg-red-500 rounded-full"},Ps={class:"mt-sm font-semibold text-center break-words"},Ts={class:"mt-1 text-center text-stone-800"},Vs={class:"absolute top-0 right-0 mt-sm mr-sm"},Ls={class:"mt-xs"},Fs={class:"flex flex-col"},Os={__name:"Accounts",setup(_){const{t:a}=ae(),t=k("workspaceCtx"),n=k("routePrefix"),b=a("account.accounts"),{notify:f}=z(),p=I(!1),v=I(null),C=I(!1),$=c=>{B.put(route("mixpost.accounts.update",{workspace:t.id,account:c}),{},{preserveScroll:!0,onSuccess(A){A.props.flash.error||f("success",a("account.account_updated"))}})},x=()=>{B.delete(route(`${n}.accounts.delete`,{workspace:t.id,account:v.value}),{preserveScroll:!0,onStart(){C.value=!0},onSuccess(){v.value=null,f("success",a("account.account_deleted"))},onFinish(){C.value=!1}})},S=()=>{C.value||(v.value=null)},V=I(!1),w=R({uuid:null,name:""}),G=c=>{V.value=!0,w.uuid=c.uuid,w.name=c.suffix},L=()=>{V.value=null,w.reset()},O=()=>{w.put(route(`${n}.accounts.updateSuffix`,{workspace:t.id,account:w.uuid}),{onSuccess(){L()}})};return xs(),(c,A)=>{const X=re("tooltip");return i(),h(E,null,[o(s(ue),{title:s(b)},null,8,["title"]),e("div",hs,[o(ve,{title:s(b)},{description:r(()=>[d(l(s(a)("account.connect_social_account")),1)]),_:1},8,["title"]),e("div",$s,[o(Pe,{isConfigured:c.$page.props.is_configured_service},null,8,["isConfigured"]),!c.$page.props.is_service_active.twitter&&c.$page.props.enterprise_config.workspace_twitter_service?(i(),h("div",ws,[o(Te,{variant:"warning",closeable:!1},{default:r(()=>[e("p",null,l(s(a)("service.not_configured_service",{service:"X"})),1)]),_:1}),o(Y,null,{default:r(()=>[e("a",{href:`/${c.$page.props.mixpost.core_path}/${s(t).id}/workspace-services?redirect-to-accounts=true`,class:"mt-md block"},[o(P,null,{default:r(()=>[d(l(s(a)("service.configure_services")),1)]),_:1})],8,ys)]),_:1})])):m("",!0),e("div",Cs,[e("button",{onClick:A[0]||(A[0]=g=>p.value=!0)},[o(bs,null,{default:r(()=>[d(l(s(a)("account.add_account")),1)]),_:1})]),(i(!0),h(E,null,ne(c.$page.props.accounts,g=>(i(),u(ge,{key:g.id,class:"relative"},{default:r(()=>[e("div",As,[o(ke,{size:"lg","img-url":g.image,provider:g.provider,name:g.name,active:!0},null,8,["img-url","provider","name"]),g.authorized?m("",!0):(i(),h("div",Is,[de(e("div",Ss,null,512),[[X,s(a)("account.unauthorized")]])])),e("div",Ps,l(g.name),1),e("div",Ts,l(s(a)("account.added"))+" "+l(g.created_at),1)]),e("div",Vs,[o(_e,null,{trigger:r(()=>[o(pe,null,{default:r(()=>[o(Ae)]),_:1})]),content:r(()=>[o(F,{onClick:D=>$(g.uuid),as:"button"},{icon:r(()=>[o(Ie)]),default:r(()=>[d(" "+l(s(a)("general.update")),1)]),_:2},1032,["onClick"]),o(F,{onClick:D=>G(g),as:"button"},{icon:r(()=>[o(fe)]),default:r(()=>[d(" "+l(s(a)("account.edit_suffix")),1)]),_:2},1032,["onClick"]),o(F,{onClick:D=>v.value=g.uuid,as:"button"},{icon:r(()=>[o(Se,{class:"text-red-500"})]),default:r(()=>[d(" "+l(s(a)("general.delete")),1)]),_:2},1032,["onClick"])]),_:2},1024)])]),_:2},1024))),128))])])]),o(le,{show:V.value,"max-width":"sm",closeable:!0,"scrollable-body":!0,onClose:L},{header:r(()=>[d(l(s(a)("account.edit_account_suffix")),1)]),body:r(()=>[e("div",Ls,[o(j,{type:"text",modelValue:s(w).name,"onUpdate:modelValue":A[1]||(A[1]=g=>s(w).name=g),placeholder:s(a)("account.enter_suffix")},null,8,["modelValue","placeholder"])])]),footer:r(()=>[o(N,{onClick:L,class:"mr-xs"},{default:r(()=>[d(l(s(a)("general.close")),1)]),_:1}),o(P,{onClick:O,isLoading:s(w).processing,disabled:s(w).processing},{default:r(()=>[d(l(s(a)("general.save")),1)]),_:1},8,["isLoading","disabled"])]),_:1},8,["show"]),o(ie,{show:v.value!==null,onClose:S,variant:"danger"},{header:r(()=>[d(l(s(a)("account.delete_account")),1)]),body:r(()=>[d(l(s(a)("account.confirm_delete_account")),1)]),footer:r(()=>[o(N,{onClick:S,disabled:C.value,class:"mr-xs"},{default:r(()=>[d(l(s(a)("general.cancel")),1)]),_:1},8,["disabled"]),o(me,{onClick:x,"is-loading":C.value,disabled:C.value},{default:r(()=>[d(l(s(a)("general.delete")),1)]),_:1},8,["is-loading","disabled"])]),_:1},8,["show"]),o(ce,{show:p.value,closeable:!0,onClose:A[2]||(A[2]=g=>p.value=!1)},{default:r(()=>[e("div",Fs,[c.$page.props.is_service_active.facebook?(i(),u(je,{key:0})):m("",!0),c.$page.props.is_service_active.facebook?(i(),u(Ge,{key:1})):m("",!0),c.$page.props.is_service_active.threads?(i(),u(Ke,{key:2})):m("",!0),o(Re),c.$page.props.is_service_active.bluesky?(i(),u(_s,{key:3})):m("",!0),c.$page.props.is_service_active.google?(i(),u(Qe,{key:4})):m("",!0),c.$page.props.is_service_active.pinterest?(i(),u(ss,{key:5})):m("",!0),c.$page.props.is_service_active.linkedin?(i(),u(as,{key:6})):m("",!0),c.$page.props.is_service_active.linkedin&&c.$page.props.additionally.linkedin_supports_pages?(i(),u(ls,{key:7})):m("",!0),c.$page.props.is_service_active.tiktok?(i(),u(us,{key:8})):m("",!0),c.$page.props.is_service_active.twitter?(i(),u(Fe,{key:9})):m("",!0)])]),_:1},8,["show"])],64)}}};export{Os as default};
