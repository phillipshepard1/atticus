import{i as E,C as N,T as j,G as g,c as l,a as n,b as a,e as _,m as B,w as t,F as $,d as L,o,Z as O,f as h,t as r,j as i,r as R,g as y,N as k,_ as b,k as U,y as D}from"./app-BxavtTYs.js";import{_ as F}from"./Minimal-3cE7t4f_.js";import{_ as T}from"./Panel-Lw-nuda0.js";import{_ as q}from"./Flex-0eM5h-qJ.js";const x={class:"w-full sm:max-w-lg mx-auto"},A={key:0},S={key:1},G={for:"code"},M={for:"recovery_code"},P=L({layout:F}),J=Object.assign(P,{__name:"TwoFactorLogin",setup(Y){E("routePrefix");const m="code",v="recovery_code",c=N(m),s=j({code:"",recovery_code:""}),f=g(()=>c.value===m),p=g(()=>c.value===v),C=()=>{c.value=m},w=()=>{c.value=v},V=()=>{s.post(route("mixpost.two-factor.login"))};return(e,d)=>(o(),l($,null,[n(a(O),{title:e.$t("auth.sign_in")},null,8,["title"]),_("div",x,[_("form",{onSubmit:B(V,["prevent"])},[n(T,null,{title:t(()=>[h(r(e.$t("auth.two_factor_authentication")),1)]),description:t(()=>[f.value?(o(),l("span",A,r(e.$t("auth.confirm_access_authentication_code")),1)):i("",!0),p.value?(o(),l("span",S,r(e.$t("auth.confirm_access_emergency_codes")),1)):i("",!0)]),default:t(()=>[(o(!0),l($,null,R(a(s).errors,u=>(o(),y(D,{message:u,class:"mb-xs"},null,8,["message"]))),256)),f.value?(o(),y(b,{key:0},{title:t(()=>[_("label",G,r(e.$t("profile.code")),1)]),default:t(()=>[n(k,{modelValue:a(s).code,"onUpdate:modelValue":d[0]||(d[0]=u=>a(s).code=u),type:"text",id:"code",class:"w-full",autofocus:"",required:""},null,8,["modelValue"])]),_:1})):i("",!0),p.value?(o(),y(b,{key:1},{title:t(()=>[_("label",M,r(e.$t("auth.recovery_code")),1)]),default:t(()=>[n(k,{modelValue:a(s).recovery_code,"onUpdate:modelValue":d[1]||(d[1]=u=>a(s).recovery_code=u),type:"text",id:"recovery_code",class:"w-full",autofocus:"",required:""},null,8,["modelValue"])]),_:1})):i("",!0),n(q,{class:"justify-between mt-lg"},{default:t(()=>[n(U,{disabled:a(s).processing,isLoading:a(s).processing,type:"submit"},{default:t(()=>[h(r(e.$t("auth.login")),1)]),_:1},8,["disabled","isLoading"]),f.value?(o(),l("div",{key:0,onClick:w,role:"button",class:"link-primary"},r(e.$t("auth.use_recovery_code")),1)):i("",!0),p.value?(o(),l("div",{key:1,onClick:C,role:"button",class:"link-primary"},r(e.$t("auth.use_authentication_code")),1)):i("",!0)]),_:1})]),_:1})],32)])],64))}});export{J as default};
